# ç»ˆç«¯æ—¶é—´æ˜¾ç¤ºå·¥å…·

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ç»ˆç«¯æ—¥æœŸæé†’å·¥å…·ï¼Œæ”¯æŒå…¬å†/å†œå†äº‹ä»¶ç®¡ç†ã€æ—¥å‡ºæ—¥è½æ—¶é—´æ˜¾ç¤ºå’Œæ¯æ—¥æ–‡æ¡ˆåŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“… **äº‹ä»¶ç®¡ç†**ï¼šæ”¯æŒç”Ÿæ—¥ã€èŠ‚æ—¥ç­‰é‡è¦æ—¥æœŸæé†’
- ğŸŒ™ **å†œå†æ”¯æŒ**ï¼šå®Œç¾æ”¯æŒå†œå†æ—¥æœŸè½¬æ¢
- â˜€ï¸ **æ—¥å‡ºæ—¥è½**ï¼šæ ¹æ®åœ°ç†ä½ç½®æ˜¾ç¤ºæ—¥å‡ºæ—¥è½æ—¶é—´
- ğŸ“œ **æ¯æ—¥æ–‡æ¡ˆ**ï¼šéšæœºå±•ç¤ºæ¿€åŠ±æ–‡æ¡ˆï¼Œæ”¯æŒæ—¶é—´/æ¬¡æ•°æ¨¡å¼æ›´æ–°
- ğŸ¨ **å½©è‰²è¾“å‡º**ï¼šç¾è§‚çš„ç»ˆç«¯å½©è‰²æ˜¾ç¤º
- âš™ï¸ **çµæ´»é…ç½®**ï¼šJSON é…ç½®æ–‡ä»¶ï¼Œæ˜“äºç®¡ç†

## å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd <project-directory>

# å®‰è£…ä¾èµ–
go mod tidy

# ç¼–è¯‘
go build -o app main.go
```

## é…ç½®æ–‡ä»¶

### config.jsonï¼ˆä¸»é…ç½®æ–‡ä»¶ï¼‰

```json
{
  "datesFile": "dates.json",
  "sentencesFile": "sentences.json",
  "showDateAmount": 7,
  "dateFormat": "2006/01/02",
  "location": {
    "latitude": 39.9042,
    "longitude": 116.4074,
    "timezone": 8
  },
  "showSunTimes": true,
  "showDailySentence": true,
  "cacheDir": "cache",
  "sentenceUpdateMode": "count",
  "sentenceUpdateInterval": 5
}
```

**é…ç½®è¯´æ˜ï¼š**
- `datesFile`: äº‹ä»¶æ•°æ®æ–‡ä»¶è·¯å¾„
- `sentencesFile`: æ–‡æ¡ˆæ•°æ®æ–‡ä»¶è·¯å¾„
- `showDateAmount`: æ˜¾ç¤ºæœ€è¿‘çš„äº‹ä»¶æ•°é‡ï¼ˆé»˜è®¤ 7ï¼‰
- `dateFormat`: æ—¥æœŸæ˜¾ç¤ºæ ¼å¼
- `location`: åœ°ç†ä½ç½®ä¿¡æ¯
  - `latitude`: çº¬åº¦
  - `longitude`: ç»åº¦
  - `timezone`: æ—¶åŒºï¼ˆUTC åç§»å°æ—¶æ•°ï¼‰
- `showSunTimes`: æ˜¯å¦æ˜¾ç¤ºæ—¥å‡ºæ—¥è½æ—¶é—´
- `showDailySentence`: æ˜¯å¦æ˜¾ç¤ºæ¯æ—¥æ–‡æ¡ˆ
- `cacheDir`: ç¼“å­˜ç›®å½•
- `sentenceUpdateMode`: æ–‡æ¡ˆæ›´æ–°æ¨¡å¼
  - `time`: åŸºäºæ—¶é—´æ›´æ–°ï¼ˆå•ä½ï¼šå°æ—¶ï¼‰
  - `count`: åŸºäºè¿è¡Œæ¬¡æ•°æ›´æ–°
- `sentenceUpdateInterval`: æ›´æ–°é—´éš”å€¼

### dates.jsonï¼ˆäº‹ä»¶æ•°æ®ï¼‰

```json
{
  "events": [
    {
      "name": "æ˜¥èŠ‚",
      "type": "festival",
      "month": 1,
      "day": 1,
      "repeatYearly": true,
      "alwaysShow": true,
      "isLunar": true
    },
    {
      "name": "å°æ˜ç”Ÿæ—¥",
      "type": "birthday",
      "year": 2025,
      "month": 5,
      "day": 20,
      "repeatYearly": true,
      "alwaysShow": false,
      "isLunar": false
    }
  ]
}
```

**å­—æ®µè¯´æ˜ï¼š**
- `name`: äº‹ä»¶åç§°
- `type`: äº‹ä»¶ç±»å‹ï¼ˆ`birthday` æˆ– `festival`ï¼‰
- `year`: å¹´ä»½ï¼ˆä»…åœ¨ä¸é‡å¤æ—¶éœ€è¦ï¼‰
- `month`: æœˆä»½
- `day`: æ—¥æœŸ
- `repeatYearly`: æ˜¯å¦æ¯å¹´é‡å¤
- `alwaysShow`: æ˜¯å¦å§‹ç»ˆæ˜¾ç¤ºï¼ˆä¸å— `showDateAmount` é™åˆ¶ï¼‰
- `isLunar`: æ˜¯å¦ä½¿ç”¨å†œå†

### sentences.jsonï¼ˆæ–‡æ¡ˆæ•°æ®ï¼‰

```json
{
  "sentences": [
    "ä»Šå¤©ä¹Ÿè¦åŠ æ²¹å“¦ï¼",
    "ç”Ÿæ´»æ˜æœ—ï¼Œä¸‡ç‰©å¯çˆ±ã€‚",
    "æ˜Ÿå…‰ä¸é—®èµ¶è·¯äººï¼Œæ—¶å…‰ä¸è´Ÿæœ‰å¿ƒäººã€‚",
    "æ„¿ä½ èµ°å‡ºåŠç”Ÿï¼Œå½’æ¥ä»æ˜¯å°‘å¹´ã€‚"
  ]
}
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬è¿è¡Œ

```bash
# ä½¿ç”¨å½“å‰ç›®å½•çš„é…ç½®æ–‡ä»¶
./app

# æŒ‡å®šé…ç½®ç›®å½•
./app -config /path/to/config
```

### æ·»åŠ äº‹ä»¶

**äº¤äº’å¼æ·»åŠ ï¼ˆæ¨èï¼‰ï¼š**

```bash
# å®Œå…¨äº¤äº’å¼
./app -add-event

# æŒ‡å®šäº‹ä»¶åç§°ï¼Œå…¶ä½™äº¤äº’è¾“å…¥
./app -add-event æ˜¥èŠ‚
```

äº¤äº’æµç¨‹ç¤ºä¾‹ï¼š
```
=== æ·»åŠ æ–°äº‹ä»¶ ===

äº‹ä»¶åç§°: æ˜¥èŠ‚
äº‹ä»¶ç±»å‹ (birthday/festival) [festival]: festival
ä½¿ç”¨å†œå† (y/n) [n]: y
æ¯å¹´é‡å¤ (y/n) [y]: y
è¯·è¾“å…¥æ—¥æœŸ (æœˆ æ—¥ï¼Œå¦‚: 1 1): 1 1
å§‹ç»ˆæ˜¾ç¤º (y/n) [n]: y

äº‹ä»¶ä¿¡æ¯:
  åç§°: æ˜¥èŠ‚
  ç±»å‹: festival
  å†æ³•: å†œå†
  æ—¥æœŸ: æ¯å¹´ 1æœˆ1æ—¥
  å§‹ç»ˆæ˜¾ç¤º: true

ç¡®è®¤æ·»åŠ ? (y/n) [y]: y

âœ“ æˆåŠŸæ·»åŠ äº‹ä»¶: æ˜¥èŠ‚
```

### æ·»åŠ æ–‡æ¡ˆ

```bash
./app -add-sentence "ä½ çš„æ–°æ–‡æ¡ˆå†…å®¹"
```

### åˆ·æ–°æ–‡æ¡ˆ

```bash
# æ‰‹åŠ¨åˆ·æ–°å½“å‰æ˜¾ç¤ºçš„æ–‡æ¡ˆ
./app -refresh-sentence
```

### é…ç½®ä¿®æ”¹

```bash
# å¼€å¯/å…³é—­æ—¥å‡ºæ—¥è½æ˜¾ç¤º
./app -show-sun-times true
./app -show-sun-times false

# å¼€å¯/å…³é—­æ¯æ—¥æ–‡æ¡ˆ
./app -show-daily-sentence true
./app -show-daily-sentence false

# è®¾ç½®æ˜¾ç¤ºäº‹ä»¶æ•°é‡
./app -show-date-amount 10
```

### æŸ¥çœ‹å¸®åŠ©

```bash
./app -h
```

## è¾“å‡ºç¤ºä¾‹

```
Hello World!

  ğŸ“œ ä»Šå¤©ä¹Ÿè¦åŠ æ²¹å“¦ï¼

  â˜€ï¸ è·ç¦»è¿™æ¬¡æ—¥è½è¿˜æœ‰ 3å°æ—¶45åˆ†é’Ÿ
  ğŸ‚ å°æ˜ç”Ÿæ—¥ è¿˜æœ‰ 15 å¤© (2025/05/20)
  ğŸ‰ æ˜¥èŠ‚ è¿˜æœ‰ 120 å¤© (2026/01/29)
  ğŸ‰ ä¸­ç§‹èŠ‚ è¿˜æœ‰ 200 å¤© (2025/10/06)
```

## æ–‡æ¡ˆæ›´æ–°æ¨¡å¼

### æ—¶é—´æ¨¡å¼ï¼ˆtimeï¼‰

æ ¹æ®æ—¶é—´é—´éš”è‡ªåŠ¨æ›´æ–°æ–‡æ¡ˆï¼š

```json
{
  "sentenceUpdateMode": "time",
  "sentenceUpdateInterval": 24
}
```

ä¸Šè¿°é…ç½®è¡¨ç¤ºæ¯ 24 å°æ—¶æ›´æ–°ä¸€æ¬¡æ–‡æ¡ˆã€‚

### è®¡æ•°æ¨¡å¼ï¼ˆcountï¼‰

æ ¹æ®è¿è¡Œæ¬¡æ•°æ›´æ–°æ–‡æ¡ˆï¼š

```json
{
  "sentenceUpdateMode": "count",
  "sentenceUpdateInterval": 5
}
```

ä¸Šè¿°é…ç½®è¡¨ç¤ºæ¯è¿è¡Œ 5 æ¬¡ç¨‹åºæ›´æ–°ä¸€æ¬¡æ–‡æ¡ˆã€‚

## äº‹ä»¶æ˜¾ç¤ºé€»è¾‘

1. æ ‡è®°ä¸º `alwaysShow: true` çš„äº‹ä»¶å§‹ç»ˆæ˜¾ç¤º
2. å…¶ä½™äº‹ä»¶æŒ‰æ—¶é—´ä»è¿‘åˆ°è¿œæ’åº
3. æœ€å¤šæ˜¾ç¤º `showDateAmount` ä¸ªäº‹ä»¶
4. å·²è¿‡å»çš„äº‹ä»¶æ˜¾ç¤ºè´Ÿæ•°å¤©æ•°

## æ—¥å‡ºæ—¥è½è®¡ç®—

- æ ¹æ®é…ç½®çš„ç»çº¬åº¦å’Œæ—¶åŒºè‡ªåŠ¨è®¡ç®—
- æ˜¾ç¤ºè·ç¦»æœ€è¿‘çš„æ—¥å‡ºæˆ–æ—¥è½æ—¶é—´
- è‡ªåŠ¨åˆ¤æ–­"è¿™æ¬¡"æˆ–"ä¸‹æ¬¡"

## ä¾èµ–é¡¹

```go
require (
    github.com/Lofanmi/chinese-calendar-golang/calendar
    github.com/fatih/color
    github.com/spf13/viper
    github.com/starainrt/astro/sun
)
```

## å¸¸è§é—®é¢˜

**Q: å¦‚ä½•è®¾ç½®å¼€æœºè‡ªåŠ¨è¿è¡Œï¼Ÿ**

A: å¯ä»¥å°†ç¨‹åºæ·»åŠ åˆ°ç³»ç»Ÿçš„å¯åŠ¨è„šæœ¬æˆ–ä½¿ç”¨å®šæ—¶ä»»åŠ¡ã€‚

Linux/Mac (æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc):
```bash
/path/to/app -config /path/to/config
```

Windows (æ·»åŠ åˆ°å¯åŠ¨æ–‡ä»¶å¤¹æˆ–ä»»åŠ¡è®¡åˆ’ç¨‹åº):
```
C:\path\to\app.exe -config C:\path\to\config
```

**Q: æ–‡æ¡ˆä¸€ç›´ä¸æ›´æ–°ï¼Ÿ**

A: 
1. æ£€æŸ¥ `sentenceUpdateMode` é…ç½®æ˜¯å¦æ­£ç¡®
2. è®¡æ•°æ¨¡å¼ä¸‹éœ€è¦è¿è¡Œè¶³å¤Ÿæ¬¡æ•°
3. å¯ä»¥ä½¿ç”¨ `-refresh-sentence` æ‰‹åŠ¨åˆ·æ–°

**Q: å†œå†æ—¥æœŸä¸å‡†ç¡®ï¼Ÿ**

A: ç¨‹åºä½¿ç”¨ä¸“ä¸šçš„å†œå†è½¬æ¢åº“ï¼Œå¦‚æœ‰é—®é¢˜è¯·æ£€æŸ¥æ—¥æœŸè¾“å…¥æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚

## è®¸å¯è¯

MIT

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ä½œè€…

ABloom25
